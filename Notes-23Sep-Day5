
### INSTALL/Upgrade DOCKER 

# sudo su -

# sudo vi /etc/docker/daemon.json

Press i and insert below content

{
	"exec-opts": ["native.cgroupdriver=systemd"]
}


Save the file. (:wq!)

sudo service docker restart



Step 2: 


##### Initiate Kube cluster

sudo kubeadm init --ignore-preflight-errors=all

Step 4:

#### Setup the environment Variables

  mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config


Step 5:
## set up the  Calico network

sudo kubectl apply -f https://raw.githubusercontent.com/projectcalico/calico/v3.24.1/manifests/calico.yaml


Step 6:

#### check if Kube Master is ready or not

# kubectl get nodes


For your pod to be scheduled in your master node, remove the taint


# kubectl taint node <nodeIP> node-role.kubernetes.io/master:NoSchedule-

Example like this:

# kubectl taint node ip-172-31-24-116 node-role.kubernetes.io/master:NoSchedule-

===============================================
Create a pod on the node
===============================

# mkdir mykubefiles
# cd mykubefiles
# vim pod-defintion.yml

kind: Pod
apiVersion: v1
metadata:
 name: pod1
 labels:
  author: sonal
  app: webserver
spec:
 containers:
  - name: c1
    image: nginx


Save the file and run it

# kubectl create -f pod-defintion.yml

# kubectl get pods

# kubectl describe pod pod1















